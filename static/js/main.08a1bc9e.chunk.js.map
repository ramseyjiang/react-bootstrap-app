{"version":3,"sources":["components/common/utils/Storage.js","services/AuthReducer.js","contexts/AuthContext.js","components/common/layout/Navbar.jsx","components/common/layout/Header.jsx","components/common/layout/Footer.jsx","components/common/utils/Date.js","services/WeatherReducer.js","contexts/WeatherContext.js","components/weather/Weather.jsx","services/ExchangeReducer.js","contexts/ExchangeContext.js","components/exchange/CurrentExchangeRate.jsx","views/HomePage.jsx","components/auth/Login.jsx","components/Routes.js","components/common/layout/Layout.jsx","App.js","serviceWorker.js","index.js","components/common/utils/Request.js","components/common/form/InputText.jsx"],"names":["setLocal","key","value","localStorage","setItem","initAuth","isLoggedIn","loading","username","role","isAdmin","isManager","isStaff","isClient","error","authReducer","state","action","type","initAccess","loginSuccess","loginFailure","logout","getItem","removeItem","AuthContext","createContext","useAuthContext","useContext","AuthContextProvider","children","useReducer","dispatch","useEffect","login","useCallback","delay","ms","Promise","resolve","setTimeout","apiLogin","a","authApi","useMemo","Provider","Navigation","useState","expanded","setExpanded","layoutColor","Navbar","fixed","expand","bg","variant","Brand","href","Toggle","onClick","aria-controls","Collapse","id","Nav","className","exact","to","Header","Footer","Date","getFullYear","initState","data","errorMessage","weatherReducer","Error","WeatherContext","WeatherContextProvider","getWeather","get","then","res","location","city","country","result","weatherApi","Weather","Alert","weather","main","Math","round","temp","description","CURRENCIES","initialized","rates","date","base","tableKeys","CNY","NZD","CAD","SGD","HKD","AUD","exchangeReducer","barData","generateBarData","filteredRates","Object","keys","filter","includes","labels","datasets","backgroundColor","map","ExchangeContext","ExchangeContextProvider","getLatestExchangeRate","EXCHANGE_API_URL","exchangeApi","CurrentExchangeRate","Table","style","width","margin","floor","Number","height","options","maintainAspectRatio","legend","display","scales","yAxes","ticks","beginAtZero","title","text","HomePage","Login","password","setLogin","handleChange","e","target","name","Container","Form","onSubmit","preventDefault","method","Row","InputText","placeholder","label","onChange","Button","size","NotFound","lazy","MoviePage","TaskPage","Contact","Routes","AuthRoute","component","finalComponent","fallback","path","Layout","fluid","App","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","message","url","fetch","response","json","log","onBlur","multiple","Group","as","Col","Label","Control","required"],"mappings":"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","file":"static/js/main.08a1bc9e.chunk.js","sourcesContent":["export function getLocal(key) {\n  return localStorage.getItem(key);\n}\n\nexport function setLocal(key, value) {\n  return localStorage.setItem(key, value);\n}\n\nexport function removeLocal(key) {\n  localStorage.removeItem(key);\n}\n","import {\n  getLocal,\n  removeLocal,\n  setLocal\n} from \"../components/common/utils/Storage.js\";\n\nexport const initAuth = {\n  isLoggedIn: false,\n  loading: false,\n  username: null,\n  role: { isAdmin: false, isManager: false, isStaff: false, isClient: true }, //it is used to extension the roles management.\n  error: null\n};\n\n// Actions\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\nexport const LOADING = \"LOADING\";\nexport const INIT = \"INIT\";\n\nexport function authReducer(state, action) {\n  switch (action.type) {\n    case INIT:\n      return initAccess();\n    case LOADING:\n      return { ...state, loading: true };\n    case LOGIN_SUCCESS:\n      return loginSuccess(action);\n    case LOGIN_FAIL:\n      return loginFailure(action);\n    case LOGOUT:\n      return logout();\n    default:\n      return state;\n  }\n}\n\nconst initAccess = () => {\n  let username = getLocal(\"username\");\n  return { ...initAuth, isLoggedIn: username !== null, username: username };\n};\n\nconst loginSuccess = action => {\n  setLocal(\"username\", action.username);\n  return { ...initAuth, isLoggedIn: true, username: action.username };\n};\n\nconst loginFailure = action => {\n  setLocal(\"username\", null);\n  return { ...initAuth, error: action.error };\n};\n\nconst logout = () => {\n  removeLocal(\"username\");\n  return { ...initAuth };\n};\n","import React, {\n  createContext,\n  useCallback,\n  useMemo,\n  useContext,\n  useEffect,\n  useReducer\n} from \"react\";\n\nimport {\n  initAuth,\n  authReducer,\n  INIT,\n  LOADING,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT\n} from \"../services/AuthReducer\";\n\nconst AuthContext = createContext();\n\nconst AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initAuth);\n\n  //The first time a user visits the website, it will only run once.\n  //The other scenario, a user closed website without logout, after the user come back, it will auto login.\n  useEffect(() => {\n    if (state.username === null) {\n      dispatch({ type: INIT });\n    }\n  }, [state.username]);\n\n  const loading = () => dispatch({ type: LOADING });\n\n  const login = useCallback(username => {\n    if (username === \"ramsey\") {\n      return dispatch({ type: LOGIN_SUCCESS, username: username });\n    } else {\n      return dispatch({ type: LOGIN_FAIL, error: \"User not found!\" });\n    }\n  }, []);\n\n  const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n  // A fake authenticator to mock async api call\n  const apiLogin = useCallback(async username => {\n    await delay(2000);\n    if (username === \"ramsey\") {\n      return dispatch({ type: LOGIN_SUCCESS, username: username });\n    } else {\n      return dispatch({ type: LOGIN_FAIL, error: \"User not found!\" });\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    dispatch({ type: LOGOUT });\n  }, []);\n\n  const authApi = useMemo(() => ({ state, loading, logout, login, apiLogin }), [\n    logout,\n    login,\n    apiLogin,\n    state\n  ]);\n\n  return (\n    <AuthContext.Provider value={{ authApi }}>{children}</AuthContext.Provider>\n  );\n};\n\nexport const useAuthContext = () => {\n  return useContext(AuthContext);\n};\n\nexport default AuthContextProvider;\n","import React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Navbar,  Nav } from \"react-bootstrap\";\nimport { useAuthContext } from \"../../../contexts/AuthContext\";\n\nconst Navigation = () => {\n  const { authApi } = useAuthContext();\n\n  //collapseOnSelect is not stable, it works for href, but not works for router to. That's why I build it by myself.\n  const [expanded, setExpanded] = useState(false);\n  const layoutColor = authApi.state.isLoggedIn ? \"primary\" : \"dark\";  //It is a cue for change different layout\n  \n  return (\n    <Navbar expanded={expanded} fixed='top' expand=\"sm\" bg={layoutColor} variant=\"dark\">\n      <Navbar.Brand href=\"/react-bootstrap-app\">HooksHut</Navbar.Brand>\n      <Navbar.Toggle onClick={() => setExpanded(expanded ? false : \"expanded\")} aria-controls='basic-navbar-nav' />\n      <Navbar.Collapse id='basic-navbar-nav'>\n        <Nav className=\"mr-auto\">\n          <NavLink\n            exact\n            className='nav-link'\n            to='/react-bootstrap-app'\n            onClick={() => setExpanded(false)}>\n            Home\n          </NavLink>\n          <NavLink\n            className='nav-link'\n            to='/movies'\n            onClick={() => setExpanded(false)}>\n            Movies\n          </NavLink>\n          <NavLink\n            className='nav-link'\n            to='/tasks'\n            onClick={() => setExpanded(false)}>\n            Tasks\n          </NavLink>\n          <NavLink\n            className='nav-link'\n            to='/contact'\n            onClick={() => setExpanded(false)}>\n            Contact\n          </NavLink>\n        </Nav>\n        { !authApi.state.isLoggedIn && <Nav>\n          <NavLink exact to=\"/login\" className='nav-link'>Login</NavLink>\n          <NavLink exact to=\"/register\" className='nav-link'>Register</NavLink>\n        </Nav> }\n        { authApi.state.isLoggedIn && <Nav>\n          <NavLink to=\"/react-bootstrap-app\" onClick={() => authApi.logout()} className='nav-link'>Logout</NavLink>\n        </Nav> }\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport Navbar from \"./Navbar\";\n\nconst Header = () => {\n  return (\n    <>\n      <Navbar />\n    </>\n  );\n};\n\nexport default Header;","import React from \"react\";\nimport {year} from \"../utils/Date.js\"\n\nconst Footer = () => {\n    return (\n      <div className=\"font-small bg-dark\">\n        <div className=\"text-center text-white py-1\">© {year()} Copyright:Ramsey Jiang</div>\n      </div>\n    );\n};\n\nexport default Footer;","export function year() {\n  return new Date().getFullYear();\n}\n\nexport function month() {\n  let month = new Date().getMonth() + 1;\n  if (month >= 10) {\n    return month;\n  } else {\n    return \"0\" + month;\n  }\n}\n\nexport function day() {\n  return new Date().getDate();\n}\n","// Actions\nexport const LOADING = \"LOADING\";\nexport const GET_WEATHER_SUCCESS = \"GET_WEATHER_SUCCESS\";\nexport const GET_WEATHER_FAILURE = \"GET_WEATHER_FAILURE\";\n\nexport const initState = {\n  data: null,\n  loading: false,\n  errorMessage: null\n};\n\nexport const weatherReducer = (state, action) => {\n  switch (action.type) {\n    case LOADING: {\n      return { ...state, loading: true };\n    }\n    case GET_WEATHER_SUCCESS: {\n      return {\n        ...initState,\n        data: action.data\n      };\n    }\n    case GET_WEATHER_FAILURE: {\n      return {\n        ...initState,\n        errorMessage: \"Something wrong!\"\n      };\n    }\n    default:\n      throw new Error();\n  }\n};\n","import React, {\n  createContext,\n  useMemo,\n  useContext,\n  useCallback,\n  useReducer\n} from \"react\";\nimport {\n  initState,\n  weatherReducer,\n  GET_WEATHER_SUCCESS,\n  GET_WEATHER_FAILURE\n} from \"../services/WeatherReducer\";\nimport { get } from \"../components/common/utils/Request\";\n\nconst WeatherContext = createContext();\n\nconst WeatherContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(weatherReducer, initState);\n\n  const IP_API_URL = \"https://ipapi.co/json/\";\n  const WEATHER_API_URL =\n    \"https://api.openweathermap.org/data/2.5/weather?APPID=3a58f9dd1f1515ec0dba25894ccea202&q=\";\n\n  const getWeather = useCallback(() => {\n    get(IP_API_URL).then(res => {\n      let location = res.city + \",\" + res.country;\n      get(WEATHER_API_URL + location).then(result => {\n        try {\n          dispatch({ type: GET_WEATHER_SUCCESS, data: result });\n        } catch {\n          dispatch({ type: GET_WEATHER_FAILURE, data: result });\n        }\n      });\n    });\n  }, [IP_API_URL]);\n\n  const weatherApi = useMemo(() => ({ state, getWeather }), [\n    state,\n    getWeather\n  ]);\n\n  return (\n    <WeatherContext.Provider value={{ weatherApi }}>\n      {children}\n    </WeatherContext.Provider>\n  );\n};\n\nexport const useWeatherContext = () => {\n  return useContext(WeatherContext);\n};\n\nexport default WeatherContextProvider;\n","import React, {useEffect} from \"react\";\nimport { Alert } from \"react-bootstrap\";\nimport { useWeatherContext } from \"../../contexts/WeatherContext\";\n\nconst Weather = () => {\n  const { weatherApi } = useWeatherContext();\n  useEffect(() => {\n    weatherApi.getWeather(); \n  }, []);\n\n  return (\n    <>\n      {weatherApi.state.data && <Alert className=\"justify-content-center weather-bar\" variant='info'>\n        Welcome, current weather is {weatherApi.state.data.weather[0].main}, temperature is {Math.round(((weatherApi.state.data.main.temp * 9/5 - 459.67) - 32)*5/9)}°C, conditions: {weatherApi.state.data.weather[0].description}\n      </Alert>}\n    </>\n  );\n}\n\nexport default Weather;","export const LOADING = \"LOADING\";\nexport const GET_LATEST_SUCCESS = \"GET_LATEST_SUCCESS\";\nexport const GET_LATEST_FAILURE = \"GET_LATEST_FAILURE\";\n\nconst CURRENCIES = [\"CNY\", \"NZD\", \"CAD\", \"SGD\", \"HKD\", \"AUD\"];\n\nexport const initState = {\n  data: {\n    initialized: false,\n    rates: {},\n    date: null,\n    base: \"USD\",\n    tableKeys: {\n      CNY: \"CNY\",\n      NZD: \"NZD\",\n      CAD: \"CAD\",\n      SGD: \"SGD\",\n      HKD: \"HKD\",\n      AUD: \"AUD\"\n    }\n  },\n  loading: false,\n  errorMessage: null\n};\n\nexport const exchangeReducer = (state, action) => {\n  switch (action.type) {\n    case LOADING: {\n      return { ...state, loading: true };\n    }\n    case GET_LATEST_SUCCESS: {\n      return {\n        ...initState,\n        data: {\n          initialized: true,\n          rates: action.data.rates,\n          date: action.data.date,\n          base: action.data.base,\n          barData: generateBarData(action.data.rates),\n          tableKeys: initState.data.tableKeys\n        }\n      };\n    }\n    case GET_LATEST_FAILURE: {\n      return {\n        ...initState,\n        errorMessage: \"Something wrong!\"\n      };\n    }\n    default:\n      throw new Error();\n  }\n};\n\nconst generateBarData = rates => {\n  let filteredRates = Object.keys(rates).filter(key =>\n    CURRENCIES.includes(key)\n  );\n\n  return {\n    labels: filteredRates,\n    datasets: [\n      {\n        backgroundColor: \"green\",\n        data: filteredRates.map(key => rates[key])\n      }\n    ]\n  };\n};\n","import React, {\n  createContext,\n  useMemo,\n  useContext,\n  useCallback,\n  useReducer\n} from \"react\";\nimport {\n  initState,\n  exchangeReducer,\n  GET_LATEST_SUCCESS,\n  GET_LATEST_FAILURE\n} from \"../services/ExchangeReducer\";\n\nimport { get } from \"../components/common/utils/Request\";\n\nconst ExchangeContext = createContext();\n\nconst ExchangeContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(exchangeReducer, initState);\n  const EXCHANGE_API_URL = \"https://api.exchangeratesapi.io/\";\n\n  const getLatestExchangeRate = useCallback(() => {\n    get(EXCHANGE_API_URL + \"latest?base=USD\").then(result => {\n      try {\n        dispatch({ type: GET_LATEST_SUCCESS, data: result });\n      } catch {\n        dispatch({ type: GET_LATEST_FAILURE, data: result });\n      }\n    });\n  }, []);\n\n  const exchangeApi = useMemo(() => ({ state, getLatestExchangeRate }), [\n    state,\n    getLatestExchangeRate\n  ]);\n\n  return (\n    <ExchangeContext.Provider value={{ exchangeApi }}>\n      {children}\n    </ExchangeContext.Provider>\n  );\n};\n\nexport const useExchangeContext = () => {\n  return useContext(ExchangeContext);\n};\n\nexport default ExchangeContextProvider;\n","import React, {useEffect} from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { Bar } from \"react-chartjs-2\";\nimport { useExchangeContext } from \"../../contexts/ExchangeContext\";\n\nconst CurrentExchangeRate = () => {\n  const { exchangeApi } = useExchangeContext();\n\n  useEffect(() => {\n    exchangeApi.getLatestExchangeRate();\n  }, []);\n\n  const options = {\n    maintainAspectRatio: false,\n    legend: { display: false },\n    scales: {\n      yAxes: [{ ticks: { beginAtZero: true } }],\n    },\n    title: {\n      display: true,\n      text: \"USD Exchanges Rates\",\n    },\n  };\n  \n  return (\n    <>\n      <h2 className=\"text-center\">Rates as of {exchangeApi.state.data.date}</h2>\n\n      <Table style={{ width: \"60vw\", margin: \"0 auto\" }}>\n        <thead>\n          <tr>\n            <th>{' '}</th>\n            {Object.keys(exchangeApi.state.data.tableKeys).map(key => (\n              <th key={key}>{key}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>1 USD</td>\n            {exchangeApi.state.data.initialized && Object.keys(exchangeApi.state.data.tableKeys).map(key => (\n              <td key={key}>{Math.floor(Number(exchangeApi.state.data.rates[key]) * 100) / 100}</td>\n            ))}\n          </tr>\n        </tbody>\n      </Table>\n\n      <div style={{ height: \"200px\", width: \"90vw\", margin: \"0 auto\" }}>\n        <Bar data={exchangeApi.state.data.barData} options={options} />\n      </div>\n    </>\n  );\n};\n\nexport default CurrentExchangeRate;","import React from \"react\";\nimport Weather from '../components/weather/Weather';\nimport WeatherContextProvider from \"../contexts/WeatherContext\";\nimport ExchangeContextProvider from \"../contexts/ExchangeContext\";\nimport CurrentExchangeRate from '../components/exchange/CurrentExchangeRate';\n\nconst HomePage = () => {\n  return (\n    <>\n      <WeatherContextProvider>\n        <Weather />\n      </WeatherContextProvider>\n      <ExchangeContextProvider>\n        <CurrentExchangeRate />\n      </ExchangeContextProvider>\n    </>\n  );\n};\n\nexport default HomePage;","import React, { useState } from \"react\";\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport InputText from '../common/form/InputText';\nimport { useAuthContext } from \"../../contexts/AuthContext\";\n\nexport default function Login() {\n  const { authApi } = useAuthContext();\n  const [login, setLogin] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleChange = e => {\n    setLogin({ ...login, [e.target.name]: e.target.value });\n  };\n\n  const handleLogin = e => {\n    authApi.loading(); \n    e.preventDefault(); \n    authApi.login(login.username);                       \n  }\n\n  return (\n    <>\n    { authApi.state.loading && <p>Loading</p>}\n    { !authApi.state.loading && \n      <Container className=\"justify-content-center col-6 bg-light\">\n        { authApi.state.error && <Alert variant='danger'>{authApi.state.error}</Alert>}\n        <Form onSubmit={handleLogin} method=\"post\">\n          <Form.Row>\n            <InputText placeholder=\"Please input username\" type=\"text\" label=\"Username\" name=\"username\" value={login.username} onChange={handleChange}/>\n          </Form.Row>\n          <Form.Row>\n            <InputText placeholder=\"Please input password\" type=\"password\" label=\"Password\" name=\"password\" value={login.password} onChange={handleChange}/>\n          </Form.Row>\n            <Button variant=\"primary\" type=\"submit\" size=\"sm\">Login</Button>\n        </Form>\n      </Container> }\n    </>\n  );\n}","import React, { Suspense, lazy } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useAuthContext } from \"../contexts/AuthContext\";\nimport HomePage from \"../views/HomePage\";\nimport Login from \"./auth/Login\";\n\n//lazy-loading each and every component might be an anti-pattern and it is up to the developers to wisely choose\n//withholding unnecessary code during initial download and lazy-loading them on demand, all without sacrificing user experience.\nconst NotFound = lazy(() => import(\"../views/NotFound\"));\nconst MoviePage = lazy(() => import(\"../views/MoviePage\"));\nconst TaskPage = lazy(() => import(\"../views/TaskPage\"));\nconst Contact = lazy(() => import(\"../views/Contact\"));\n\nconst Routes = () => {\n  const { authApi } = useAuthContext();\n\n  const AuthRoute = ({ component, ...options }) => {\n    if (component === Login && authApi.state.isLoggedIn) {\n      return <Redirect to='/react-bootstrap-app' />;\n    } else {\n      const finalComponent = authApi.state.isLoggedIn ? component : Login;\n\n      return <Route {...options} component={finalComponent} />;\n    }\n  };\n\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <Switch>\n        <Route exact path='/react-bootstrap-app' component={HomePage} />\n        <Route path='/react-bootstrap-app' component={HomePage} />\n        <AuthRoute path='/login' component={Login} />\n        <Route path='/movies' component={MoviePage} />\n        <AuthRoute path='/tasks' component={TaskPage} />\n        <Route path='/contact' component={Contact} />\n        <Route component={NotFound} />\n      </Switch>\n    </Suspense>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Routes from '../../Routes';\n\nconst Layout = () => (\n  <>\n    <Header />\n    <Container fluid>\n      <Routes />\n    </Container>\n    <Footer />\n  </>\n);\n\nexport default Layout;\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Layout from \"./components/common/layout/Layout\";\nimport AuthContextProvider from \"./contexts/AuthContext\";\n\nconst App = () => (\n  <BrowserRouter>\n    <AuthContextProvider>\n      <Layout />\n    </AuthContextProvider>\n  </BrowserRouter>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Importing the Bootstrap CSS\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const get = async url => {\n  try {\n    //ES2017 rules\n    const response = await fetch(url);\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n/*\n  data should be JSON format, such as\n    data = {\n      name: name,\n      email: email\n    }\n**/\nexport const post = async (url, data) => {\n  //ES6\n  fetch(url, {\n    method: \"post\",\n    headers: {\n      Accept: \"application/json, text/plain, */*\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => response.json())\n    .then(result => console.log(\"result\", result))\n    .catch(err => console.log(err));\n};\n\n/*\n  data should be JSON format, such as\n    data = {\n      name: name,\n      email: email\n    }\n**/\nexport const put = async (url, data) => {\n  try {\n    //ES2017\n    const response = await fetch(url, {\n      method: \"put\",\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n//cannot name delete because keywords crash\nexport const del = async url => {\n  try {\n    //ES2017\n    const response = await fetch(url, {\n      method: \"delete\"\n    });\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import React from \"react\";\nimport { Form, Col } from 'react-bootstrap';\n\nconst InputText = ({\n  name,\n  type,\n  placeholder,\n  onChange,\n  onBlur,\n  error,\n  label,\n  multiple = false,\n  value\n}) => {\n  return (\n    <>\n        <Form.Group as={Col}>\n            <Form.Label>{label}</Form.Label>\n            <Form.Control type={type} placeholder={placeholder} name={name} value={value} onChange={onChange} required/>\n        </Form.Group>\n      {/* {error && <div style={Style.error}>{error}</div>} */}\n    </>\n  );\n};\n\nexport default InputText;\n"],"sourceRoot":""}